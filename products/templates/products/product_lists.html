{% extends 'base.html' %}

{% load static %}

{% block main_content %}


<div class="container mt-5">
    <div class="row">

        <h2>All products by category</h2>
            {% for category in categories %}
                {% if category.parent %}
                <hr>
                <p><em>{{ category.parent }}</em> <strong>{{ category.name }}</strong></p>
                {% endif %}
                {% for product in category.products.all %}
                    <div class="col-md-3 mb-2">
                    <div class="card" style="width: 18rem;">
                      <div class="card-body">
                        {% for category in product.categories.all %}
                            <p class="card-text">{{ product.categories.first.name }}</p>
                        {% endfor %}
                        <h5 class="card-title">{{ product.name }}</h5>
                        <h6 class="card-subtitle mb-2 text-body-secondary">{{ product.brand }}</h6>
                        <a href="#" class="card-link">View details</a>
                        <a href="#" class="card-link">Add to basket</a>
                      </div>
                    </div>
                    </div>
                {% endfor %}
            {% endfor %}
        <hr>

    </div>

<!--    <div class="row">-->

<!--            {% for product in products %}-->
<!--                <div class="col-md-3">-->
<!--                <div class="card" style="width: 18rem;">-->
<!--                  <div class="card-body">-->
<!--                    {% for category in product.categories.all %}-->
<!--                        <p class="card-text">{{ category.name }}</p>-->
<!--                    {% endfor %}-->
<!--                    <h5 class="card-title">{{ product.name }}</h5>-->
<!--                    <h6 class="card-subtitle mb-2 text-body-secondary">{{ product.brand }}</h6>-->
<!--                    <a href="#" class="card-link">View details</a>-->
<!--                    <a href="#" class="card-link">Add to basket</a>-->
<!--                  </div>-->
<!--                </div>-->
<!--                </div>-->
<!--            {% endfor %}-->
<!--    </div>-->
</div>



{% endblock %}