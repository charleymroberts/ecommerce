{% load static %}
{% load django_bootstrap5 %}

<!doctype html>
<html lang="en" data-bs-theme="auto">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="UK online vegan supermarket for vegan and
    plant-based foods and cruelty-free products">
    <meta name="keywords" content="vegan supermarket, vegan shop, vegan food,
    vegankind, vegan cheese, vegan chocolate, vegan bacon, plant-based food,
    cruelty-free, animal-free, vegan shampoo, vegan cleaning products,
    vegan laundry liquid, vegan diet">
    <meta name="author"
          content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.112.5">
    <title>Vegan Direct {% block extra_title %}- UK online vegan supermarket
        {% endblock %}</title>

    <!--Bootstrap 5-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
          rel="stylesheet">

    <!--Favicon generated by favicon.io-->
    <link rel="apple-touch-icon" sizes="180x180"
          href="{% static 'favicon_io/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32"
          href="{% static 'favicon_io/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16"
          href="{% static 'favicon_io/favicon-16x16.png' %}">
    <link rel="manifest" href="{% static 'favicon_io/site.webmanifest' %}">

    <!--FontAweome script-->
    <script src="https://kit.fontawesome.com/0eb820b7a5.js"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    <!--Mailchimp-->
    <link href="//cdn-images.mailchimp.com/embedcode/classic-061523.css"
          rel="stylesheet" type="text/css">

    <!--JQuery-->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
            crossorigin="anonymous"></script>

    <!--Stripe-->
    <script src="https://js.stripe.com/v3/"></script>

    {% block extra_css %}
    {% endblock %}

    {% block extra_js %}
    {% endblock %}
</head>

<body>
<header>

    {% if user.is_superuser %}
    <nav class="navbar navbar-expand-lg bg-body-tertiary" id="admin-navbar">
        <div class="container-fluid mt-3">
            <a class="nav-link me-2" href="{% url 'dashboard' %}"><strong>Hi,
                {{ user.username }}!</strong><i
                    class="fa-regular fa-pen-to-square mx-1"></i></a>
            <button class="navbar-toggler" type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarNavAltMarkup"
                    aria-controls="navbarNavAltMarkup" aria-expanded="false"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav">
                    <a class="nav-link" href="{% url 'dashboard' %}">View
                        dashboard</a>
                    <a class="nav-link" href="{% url 'add-product' %}">Add
                        product</a>
                    <a class="nav-link" href="{% url 'view-products' %}">View/Edit
                        products</a>
                    <a class="nav-link" href="{% url 'account_logout' %}">Log
                        out</a>
                </div>
            </div>
        </div>
    </nav>
    {% endif %}

    <nav class="navbar navbar-expand-lg fixed-top py-0 shadow">
        <div class="container-fluid top-nav">

            <a class="navbar-brand" href="/"><h1>VeganDirect</h1></a>
            <button class="navbar-toggler" type="button"
                    data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
                    aria-controls="navbarCollapse" aria-expanded="false"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!--Dropdown code from Bootstrap:
             https://getbootstrap.com/docs/5.3/components/navbar/-->

            <div class="collapse navbar-collapse" id="navbarCollapse">
                {% for category in nav_categories %}
                {% if category.parent is None %}
                <li class="nav-item dropdown mx-3">
                    <a class="nav-link dropdown-toggle" href="" role="button"
                       data-bs-toggle="dropdown" aria-expanded="false">
                        {{ category.name }}
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item"
                               href="{% url 'by-category' category.slug %}">All
                            products</a></li>
                        {% for children in category.children.all %}
                        <li><a class="dropdown-item"
                               href="{% url 'by-category' children.slug %}">
                            {{ children.name }}</a></li>
                        {% endfor %}
                    </ul>
                </li>
                {% endif %}
                {% endfor %}

                <div class="dropdown flex-grow-1">
                    <button class="btn dropdown-toggle" type="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="nav-item fa-solid fa-magnifying-glass"></i>
                    </button>

                    <ul class="dropdown-menu">
                        <form method="GET" action="{% url 'search-results' %}"
                              class="d-flex mx-2" role="search">
                            <input class="form-control me-2" id="search-box"
                                   type="text" name="q"
                                   placeholder="Search" aria-label="Search">
                            <button class="btn search" type="submit"><i
                                    class="fa-solid fa-angle-right"></i>
                            </button>
                        </form>
                    </ul>

                </div>


                <div>
                    <ul class="navbar-nav mb-2 mb-md-0">
                        <li class="nav-item">
                            <a class="nav-link d-inline-flex flex-column align-items-center"
                               aria-label="favourites" href="#"><i
                                    class="fa-regular fa-heart me-2"></i><span>Wishlist</span></a>
                        </li>
                        <li class="nav-item">
                            {% if user.is_authenticated %}
                            <a class="nav-link d-inline-flex flex-column align-items-center"
                               aria-label="my account"
                               href="{% url 'my-account' %}"><i
                                    class="fa-regular fa-user me-2"></i><span>Account</span></a>
                            {% else %}
                            <a class="nav-link d-inline-flex flex-column align-items-center"
                               aria-label="login"
                               href="{% url 'account_login' %}"><i
                                    class="fa-regular fa-user me-2"></i><span>Login</span></a>
                            {% endif %}
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-inline-flex flex-column align-items-center"
                               aria-label="basket" href="{% url 'view-bag' %}"><i
                                    class="fa-solid fa-basket-shopping me-2"></i><span>({{ product_count }})</span></a>
                        </li>
                    </ul>
                </div>

            </div>
        </div>
    </nav>

</header>

<main>

    <!--messages displayed here as Bootstrap Alerts-->
    <div class="container-md">
        {% bootstrap_messages %}
    </div>

    {% block main_content %}
    {% endblock %}

    <!-- FOOTER -->
    <footer class="container mt-5">
        <hr>
        <div class="row">

            <div class="col-md-6 mb-5 text-center">
                <h3>Get all the latest updates!</h3>
                <a href="https://www.facebook.com/vegandirectuk"
                   target="_blank"
                   aria-label="Visit our Facebook page (opens in new tab)"><i
                        class="fa-brands fa-facebook m-1"></i></a>
                <a href="https://www.instagram.com" target="_blank"
                   aria-label="Visit our Instagram page (opens in new tab)"><i
                        class="fa-brands fa-instagram m-1"></i></a>
                <a href="https://www.tiktok.com" target="_blank"
                   aria-label="Visit our Tiktok page (opens in new tab)"><i
                        class="fa-brands fa-tiktok m-1"></i></a>
                <a href="https://www.twitter.com" target="_blank"
                   aria-label="Visit our X (Twitter) page (opens in new tab)"><i
                        class="fa-brands fa-x-twitter m-1"></i></a>
            </div>

            <div class="col-md-6 text-center">

                <h3>Keep in touch!</h3>
                <p><em>Sign up to our mailing list for news, offers and
                    more</em></p>

                <div id="mc_embed_shell">

                    <div id="mc_embed_signup">
                        <form action="https://gmail.us12.list-manage.com/subscribe/post?u=a2704d01610f6ca3de5ba675c&amp;id=494e47aa65&amp;f_id=0011bce0f0"
                              method="post" id="mc-embedded-subscribe-form"
                              name="mc-embedded-subscribe-form"
                              class="validate" target="_blank">
                            <div id="mc_embed_signup_scroll">
                                <div class="indicates-required"><span
                                        class="asterisk">*</span> indicates
                                    required
                                </div>
                                <div class="mc-field-group"><label
                                        for="mce-EMAIL">Email Address <span
                                        class="asterisk">*</span></label><input
                                        type="email" name="EMAIL"
                                        class="required email" id="mce-EMAIL"
                                        required="" value=""><span
                                        id="mce-EMAIL-HELPERTEXT"
                                        class="helper_text"></span></div>
                                <div id="mce-responses" class="clear foot">
                                    <div class="response"
                                         id="mce-error-response"
                                         style="display: none;"></div>
                                    <div class="response"
                                         id="mce-success-response"
                                         style="display: none;"></div>
                                </div>
                                <div aria-hidden="true"
                                     style="position: absolute; left: -5000px;">
                                    /* real people should not fill this in and
                                    expect good things - do not remove this or
                                    risk form bot signups */
                                    <input type="text"
                                           name="b_a2704d01610f6ca3de5ba675c_494e47aa65"
                                           tabindex="-1" value="">
                                </div>
                                <div class="optionalParent">
                                    <div class="clear foot">
                                        <input type="submit" name="subscribe"
                                               id="mc-embedded-subscribe"
                                               class="button"
                                               value="Subscribe">
                                        <p style="margin: 0px auto;"><a
                                                href="http://eepurl.com/iz8GSk"
                                                title="Mailchimp - email marketing made easy and fun"><span
                                                style="display: inline-block; background-color: transparent; border-radius: 4px;"><img
                                                class="refferal_badge"
                                                src="https://digitalasset.intuit.com/render/content/dam/intuit/mc-fe/en_us/images/intuit-mc-rewards-text-dark.svg"
                                                alt="Intuit Mailchimp"
                                                style="width: 220px; height: 40px; display: flex; padding: 2px 0px; justify-content: center; align-items: center;"></span></a>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>

            </div>

            <hr>

            <div class="row mt-4 text-center">
                <p>
                    <i class="fa-solid fa-seedling mx-1"></i>
                    <a href="{% url 'privacy' %}" class="underline-hover">Privacy</a>
                    <i class="fa-solid fa-seedling mx-1"></i>
                    <a href="{% url 'terms' %}"
                       class="underline-hover">Terms</a>
                    <i class="fa-solid fa-seedling mx-1"></i>
                    <a href="{% url 'delivery' %}" class="underline-hover">Delivery</a>
                    <i class="fa-solid fa-seedling mx-1"></i>
                    <a href="{% url 'contact' %}" class="underline-hover">Contact
                        us</a>
                <p>&copy; 2023 Vegan Direct | UK online vegan supermarket</p>
            </div>
            <p class="float-end underline-hover"><i
                    class="fa-solid fa-angle-up"></i> <a href="#">Back to
                top</a></p>
    </footer>
</main>

<!--Bootstrap JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!--Mailchimp JS-->
<script type="text/javascript"
        src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script>
<script type="text/javascript">(function ($) {
    window.fnames = [];
    window.ftypes = [];
    fnames[0] = 'EMAIL';
    ftypes[0] = 'email';
    fnames[1] = 'FNAME';
    ftypes[1] = 'text';
    fnames[2] = 'LNAME';
    ftypes[2] = 'text';
    fnames[3] = 'ADDRESS';
    ftypes[3] = 'address';
    fnames[4] = 'PHONE';
    ftypes[4] = 'phone';
    fnames[5] = 'BIRTHDAY';
    ftypes[5] = 'birthday';
}(jQuery));
var $mcj = jQuery.noConflict(true);</script>
</div>

{% block postloadjs %}
<script type="text/javascript">
    $('.toast').toast('show');
</script>
{% endblock %}

</body>
</html>
